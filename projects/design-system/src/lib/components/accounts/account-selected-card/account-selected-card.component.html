<article
  class="shrink-0 text-neutral-900 rounded-lg relative p-px shadow-content shadow-neutral-50"
  [ngClass]="[
    solde_comptable > 0 ? 'bg-selected-green' : 'bg-selected-red',
    className
  ]"
>
  <div
    class="rounded-[7px] relative after:rounded-[7px] after:absolute after:inset-0 after:bg-red-10 after:-z-[1] z-[2]"
    [ngStyle]="{
      'background-image':
        solde_comptable > 0
          ? 'linear-gradient(325deg, hsl(var(--card-selected-green)) 0%, rgb(var(--color-neutral-25)) 30%)'
          : 'linear-gradient(325deg, hsl(var(--card-selected-red)) 0%, rgb(var(--color-neutral-25)) 30%)'
    }"
  >
    <!-- [ngStyle]="{
      'background-image':
        solde_comptable > 0
          ? 'linear-gradient(325deg, hsl(152deg 82% 95%) 0%, rgb(var(--color-neutral-25)) 30%)'
          : 'linear-gradient(325deg, hsl(357deg 82% 95%) 0%, rgb(var(--color-neutral-25)) 30%)'
    }" -->
    <!-- Top Block -->
    <div class="relative rounded-t-lg p-4">
      <ds-dropdown
        class="absolute top-4 right-3.5"
        [items]="actionsList"
        anchor="bottom end"
      >
        <ds-icon id="more-1" size="18"></ds-icon>
      </ds-dropdown>

      <!-- Account Info -->
      <div class="flex flex-col gap-2" *ngIf="type || account_number">
        <h3 *ngIf="type" class="inline-flex gap-2 items-center">
          <ds-icon id="bank2" size="14" class="text-red-500"></ds-icon>
          <span class="text-[14px] leading-[18px] font-medium">
            {{ type }}
          </span>
        </h3>

        <p
          *ngIf="account_number"
          class="text-[12px] leading-[14px] font-bold inline-flex gap-px"
        >
          <sup class="inline-flex mt-2.5 font-light">N°</sup>
          {{ account_number }}
        </p>
      </div>

      <div class="flex items-center justify-between w-full mt-1">
        <span class="text-[10px] leading-[12px] text-neutral-700">
          Solde en temps réel
        </span>

        <ds-balance-formatter
          *ngIf="solde_temps_reel || currency"
          [isDiscrete]="isDiscrete"
          [balance]="solde_temps_reel || 0"
          [currency]="currency"
          [currencyClassName]="'text-[12px] leading-[14px]'"
        >
        </ds-balance-formatter>
      </div>
    </div>

    <hr class="w-[80%] mx-auto h-px bg-stroke-3 border-stroke-3" />
    <!-- Bottom Block -->
    <div class="px-4 py-3 flex flex-col justify-center items-end gap-2">
      <span class="self-start text-[10px] leading-[12px] text-neutral-700">
        Solde comptable
      </span>
      <ds-balance-formatter
        *ngIf="solde_comptable"
        [isDiscrete]="isDiscrete"
        [balance]="solde_comptable"
        [currency]="currency"
        [currencyClassName]="'text-[12px] leading-[14px]'"
      >
      </ds-balance-formatter>
    </div>
  </div>
</article>
